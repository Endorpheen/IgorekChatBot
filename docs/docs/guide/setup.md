---
sidebar_position: 2
---

# Установка и настройка

## Описание
Эта инструкция подходит как для локального запуска проекта, так и для развёртывания на сервере. Все сервисы управляются через Docker Compose. Caddy используется только в продакшене для HTTPS и проксирования запросов.

## Требования
- Установленные Docker и Docker Compose  
- Node.js 18+ и Python 3.11+ (если запуск без Docker)  
- API-ключи для провайдеров (OpenRouter, Together, Replicate, Stability)  
- Для серверного режима — домен и установленный Caddy (опционально)

## Получение проекта
git clone https://github.com/Endorpheen/IgorekChatBot.git  
cd IgorekChatBot

## Настройка окружения
1. Скопируй `.env.example` в `.env`.  
2. Укажи ключи API, токены и параметры CORS.  
3. Для продакшена задай внутренние адреса:  
   VITE_AGENT_API_BASE=http://chatbot:3000  
   VITE_MCP_URL=http://chatbot:3000  
4. Если требуется связь между контейнерами, создай тестовую сеть:  
   docker network create testnet

## Вариант 1 — локальный запуск
Подходит для тестов и разработки на своём компьютере.  
docker compose up -d --build  
После запуска:  
- Фронтенд и бэкенд будут доступны по портам, указанным в `docker-compose.yml`.  
- Проверь работу:  
  - http://localhost:3000 — интерфейс  
  - http://localhost:8000 — API  
  - http://localhost:3000/guide — документация  

## Вариант 2 — серверный запуск (через Caddy)
Caddy устанавливается отдельно и подключается к общей сети Docker (`testnet`). Он принимает внешние HTTPS-запросы и проксирует их на контейнер `chatbot`.  
После запуска:  
- Веб-интерфейс: https://igorekchatbot.ru  
- Документация: https://igorekchatbot.ru/guide  

## Обновление и обслуживание
- Пересобрать после изменений: docker compose up -d --build  
- Просмотреть логи: docker compose logs -f  
- Не добавляй `.env` в репозиторий — ключи и токены должны храниться локально.  
- Если используется Caddy, убедись, что домен указывает на сервер и сеть testnet активна.

## Итого
- Локальный режим — полностью автономный, без домена.  
- Серверный режим — с Caddy и HTTPS-доступом из интернета.  
Оба сценария поддерживаются одной конфигурацией.
