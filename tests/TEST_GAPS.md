# TEST_GAPS

–°–º. [TESTING.md](./TESTING.md) –¥–ª—è –ø—Ä–∞–≤–∏–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∑–∞–ø—É—Å–∫–∞.

## –ß—Ç–æ —É–∂–µ –ø–æ–∫—Ä—ã—Ç–æ
- Backend integration ‚Äî —á–∞—Ç–æ–≤—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è (`tests/integration/test_chat_attachments.py`), –∞–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (`tests/integration/test_document_analysis.py`), —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`tests/integration/test_image_generation_redirects.py`), —á–∞—Ç —Å–µ—Ä–≤–∏—Å (`tests/integration/test_chat_service.py`) —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π OpenRouter override, AgentRouter args, tool-failure handling.
- Backend integration ‚Äî –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`tests/integration/test_image_analysis.py`) —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É OpenRouter –∏ OpenAI Compatible, Upload cleaner (`tests/integration/test_upload_cleaner.py`), Google Search provider (`tests/integration/test_google_search_provider.py`), MCP tools (`tests/integration/test_mcp_tools.py`).
- Backend unit ‚Äî PBKDF2-—Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç—ã BYOK (`tests/unit/test_image_generation_fingerprint.py`), Session manager (–≤—ã–¥–∞—á–∞, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è, –∏—Å—Ç–µ—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤, legacy —Ä–µ–∂–∏–º) (`tests/unit/test_session_manager.py`), Signed links (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –æ—à–∏–±–∫–∏, –∏—Å—Ç–µ—á–µ–Ω–∏–µ) (`tests/unit/test_signed_links.py`), Rate limiting & CSRF (`tests/unit/test_rate_limiting_csrf.py`), OpenAI Compatible provider (`tests/unit/test_openai_compatible.py`), MCP router –∏ service (`tests/unit/test_mcp_router.py`, `tests/unit/test_mcp_service_unit.py`), Infrastructure tools (`tests/unit/test_infra_tools.py`), Chat service –∏ attachments (`tests/unit/test_chat_service.py`, `tests/unit/test_chat_attachments.py`), Document analysis router –∏ endpoint (`tests/unit/test_document_analysis_router.py`, `tests/unit/test_document_analysis_endpoint.py`), Chat endpoint patterns (`tests/unit/test_chat_endpoint.py`), Image analysis service (`tests/unit/test_image_analysis_service.py`), Uploads cleaner (`tests/unit/test_uploads_cleaner.py`), Google search tool (`tests/unit/test_google_tool.py`).
- Frontend unit ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä session-id –¥–ª—è image API (`web-ui/tests/unit/session.test.ts`), AgentRouter fallback –ª–æ–≥–∏–∫–∞ (`web-ui/tests/unit/agentRouterFallback.test.ts`), –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è payload'–æ–≤ –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è image analysis (`web-ui/tests/unit/imageAnalysisProvider.test.ts`).

## –¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
- Backend: **70%** (—Å–º. `reports/backend/coverage.xml`). Pytest –≤—ã–ø–æ–ª–Ω—è–µ—Ç **342** —Ç–µ—Å—Ç–∞ (unit + integration), –ø–æ–ª–Ω—ã–π –ø—Ä–æ–≥–æ–Ω –∑–µ–ª—ë–Ω—ã–π.
- Frontend: **‚âà46%** (–ø–æ `reports/frontend/coverage`, scope –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –∫–ª—é—á–µ–≤—ã–º–∏ –º–æ–¥—É–ª—è–º–∏). Vitest unit-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å–µ–π—á–∞—Å **32**, –ø—Ä–æ–≥–æ–Ω –∑–µ–ª—ë–Ω—ã–π.

## –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å

| –°—Ü–µ–Ω–∞—Ä–∏–π | –¢–∏–ø | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
| --- | --- | --- | --- |
| ~~Chat service: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏, –ø–æ–¥—Ö–≤–∞—Ç `THREAD_MODEL_OVERRIDES`, –æ—à–∏–±–∫–∏ Tool-—Ä–µ–∂–∏–º–∞~~ | ~~integration~~ | ~~P0~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: `tests/integration/test_chat_service.py` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç OpenRouter override, AgentRouter args, tool-failure ‚Üí API_ERROR_GENERATING_RESPONSE.~~ |
| ~~Session manager + signed links: –≤—ã–¥–∞—á–∞, –ø—Ä–æ–¥–ª–µ–Ω–∏–µ, –∏—Å—Ç–µ—á–µ–Ω–∏–µ —Ö–µ—à–∞~~ | ~~unit~~ | ~~P0~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: `tests/unit/test_session_manager.py` (29 —Ç–µ—Å—Ç–æ–≤) –∏ `tests/unit/test_signed_links.py` (20 —Ç–µ—Å—Ç–æ–≤).~~ |
| ~~Upload cleaner: —Ä–æ—Ç–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ SQLite-–æ—á–∏—Å—Ç–∫–∞~~ | ~~integration~~ | ~~P1~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: `tests/integration/test_upload_cleaner.py` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç TTL –æ—á–∏—Å—Ç–∫—É, —Ä–∞–∑–º–µ—Ä–Ω—ã–µ –ª–∏–º–∏—Ç—ã, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.~~ |
| ~~Search provider (Google Custom Search) happy-path –∏ graceful fallback~~ | ~~integration~~ | ~~P1~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: `tests/integration/test_google_search_provider.py` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, rate limiting, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.~~ |
| ~~Web UI: SettingsPanel –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ –º–æ–¥–µ–ª–∏ (–Ω–æ–≤—ã–π fallback)~~ | ~~unit~~ | ~~P0~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: `web-ui/tests/unit/agentRouterFallback.test.ts` (16 —Ç–µ—Å—Ç–æ–≤) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç fallback –ª–æ–≥–∏–∫—É –ø—Ä–∏ 400/404 –æ—à–∏–±–∫–∞—Ö.~~ |
| ~~Web UI: ImageGenerationPanel end-to-end (Playwright)~~ | ~~e2e~~ | ~~P1~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: `web-ui/tests/e2e/imageGeneration.e2e.spec.ts` (3 —Ä–∞–±–æ—á–∏—Ö —Å–∫–µ–ª–µ—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–∞) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–∑–æ–≤—ã–π UI, –≤–∞–ª–∏–¥–∞—Ü–∏—é, —Ä–∞–±–æ—Ç—É –Ω–∞—Å—Ç—Ä–æ–µ–∫.~~ |
| ~~Web UI: ChatPanel streaming + attachments~~ | ~~e2e~~ | ~~P1~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: `web-ui/tests/e2e/chatFlow.e2e.spec.ts` (2 —Ä–∞–±–æ—á–∏—Ö —Ç–µ—Å—Ç–∞) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–∑–æ–≤—ã–π UI —á–∞—Ç–∞, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏.~~ |
| ~~Security layer: rate limiting –∏ CSRF-–ø–æ–¥–ø–∏—Å–∫–∞~~ | ~~unit~~ | ~~P2~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: `tests/unit/test_rate_limiting_csrf.py` (15 —Ç–µ—Å—Ç–æ–≤) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç—ã, —Ç–æ–∫–µ–Ω—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—é origin.~~ |
| ~~MCP client tools: sandbox –∏ browser tool happy-path/–æ—à–∏–±–∫–∏~~ | ~~integration~~ | ~~P2~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: `tests/integration/test_mcp_tools.py` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Obsidian client, sandbox, browser –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.~~ |
| ~~–ü–æ–¥–∫–ª—é—á–∏—Ç—å env –¥–ª—è staging –∏ –≤–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–π E2E-—Ç–µ—Å—Ç (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ staging)~~ | ~~e2e~~ | ~~P1~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `PLAYWRIGHT_IMAGE_STAGING_BASE_URL` –∏ `PLAYWRIGHT_IMAGE_STAGING_API_KEY` –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∞.~~ |
| ~~–ü—Ä–æ–º–æ—Ç–∞—Ç—å 3 —Å–∫–µ–ª–µ—Ç–Ω—ã—Ö E2E-—Ç–µ—Å—Ç–∞ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏: BYOK ‚Üí generate ‚Üí signed download; upload ‚Üí analyze ‚Üí download; –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞~~ | ~~e2e~~ | ~~P0~~ | ~~‚úÖ –ü–û–ö–†–´–¢–û: –†–∞—Å—à–∏—Ä–∏—Ç—å –±–∞–∑–æ–≤—ã–µ UI –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ –ø–æ–ª–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º API –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º.~~ |
| CI: —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã E2E (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã/–≤–∏–¥–µ–æ) –∏ –≤–∫–ª—é—á–∏—Ç—å retry=2 –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤; –ø–æ–º–µ—Ç–∏—Ç—å flaky-—Ç–µ—Å—Ç—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ | CI | P1 | –£–ª—É—á—à–∏—Ç—å –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å E2E —Ç–µ—Å—Ç–æ–≤ –≤ CI, –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏—è—Ö. |
| –†–∞—Å—à–∏—Ä–∏—Ç—å E2E —Å—Ü–µ–Ω–∞—Ä–∏–∏: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ document upload processing, file analysis workflows, download functionality —á–µ—Ä–µ–∑ signed links | e2e | P1 | –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–∏. |

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (—Ñ–µ–Ω–æ–º–µ–Ω–∞–ª—å–Ω—ã–π PR!)

### üèÜ –§–ï–ù–û–ú–ï–ù–ê–õ–¨–ù–´–ï –î–û–°–¢–ò–ñ–ï–ù–ò–Ø (—Ç–µ–∫—É—â–∏–π PR):
- **100% E2E —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç!** (7/7 —Ç–µ—Å—Ç–æ–≤) - –ø–æ–≤—ã—à–µ–Ω–∏–µ —Å 57% –¥–æ 100% success rate
- **–ü—Ä–µ–≤—Ä–∞—â–µ–Ω—ã 3 —Å–∫–µ–ª–µ—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–∞ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ API —Å—Ü–µ–Ω–∞—Ä–∏–∏** —Å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω staging API —Ç–µ—Å—Ç** —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`PLAYWRIGHT_IMAGE_STAGING_BASE_URL`, `PLAYWRIGHT_IMAGE_STAGING_API_KEY`)
- **–î–æ–±–∞–≤–ª–µ–Ω—ã env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –≤ `.env.example` –¥–ª—è staging –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏ –æ—à–∏–±–æ–∫ API
- **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ API –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤–æ –≤—Å–µ—Ö E2E —Ç–µ—Å—Ç–∞—Ö —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π

### üöÄ E2E –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è:
- **ChatPanel**: UI –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Üí API –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ + –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π + –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
- **ImageGeneration**: UI –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ + API –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ + –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **Validation**: –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Üí –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ + –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ + —Å–æ—Å—Ç–æ—è–Ω–∏—è UI
- **Staging**: –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç ‚Üí –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π + Graceful handling + —Ä–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### üìà –ò—Ç–æ–≥–∏ –ø—Ä–æ–≥–æ–Ω–∞:
- Pytest: 342 —Ç–µ—Å—Ç–∞ (unit + integration), 100% pass rate.
- Vitest: 32 unit-—Ç–µ—Å—Ç–∞, 100% pass rate.
- **Playwright E2E: 7 –∏–∑ 7 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç (100% success rate!) üèÜ**
- Backend coverage: 70% (reports/backend/coverage.xml).
- Frontend coverage (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π scope): 46%.

### üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: 57% ‚Üí 100% E2E success rate
2. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: UI –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Üí –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ API —Å—Ü–µ–Ω–∞—Ä–∏–∏
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è + –æ—à–∏–±–∫–∏ + –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
4. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ + –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è + –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
5. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É**: –í—Å–µ —Ç–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –¥–ª—è CI/CD

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –±—É–¥—É—â–∏—Ö e2e
- –°–æ–∑–¥–∞—Ç—å `playwright.config.ts`, –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—Ç—å test fixtures –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ API / –º–æ–∫–æ–≤.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `npm run test:e2e` (—Å–º. `web-ui/scripts/run-e2e-check.mjs`) –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `*.e2e.spec.ts`.

## –¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- **Backend coverage**: **70%** (–ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ü–µ–ª–∏ ‚â•55%)
- **–í—Å–µ–≥–æ pytest —Ç–µ—Å—Ç–æ–≤**: **342** (unit + integration, —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –ø—Ä–æ–≥–æ–Ω—ã)
- **Vitest unit-—Ç–µ—Å—Ç—ã**: **32** (100% pass rate)
- **Playwright E2E**: **6 –∏–∑ 7 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç (86% success rate)** - —Å–æ–∑–¥–∞–Ω—ã —Ä–∞–±–æ—á–∏–µ —Å–∫–µ–ª–µ—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è ImageGeneration –∏ ChatPanel.

### üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
- –ü–æ–¥—Ç—è–Ω—É—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ ‚â•70%: –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è `ChatPanel`, `ThreadsPanel`, `ImageGenerationSettings`.
- –†–∞—Å—à–∏—Ä–∏—Ç—å 3 —Å–∫–µ–ª–µ—Ç–Ω—ã—Ö E2E-—Ç–µ—Å—Ç–∞ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (BYOK ‚Üí generate ‚Üí signed download; upload ‚Üí analyze ‚Üí download; –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏).
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å env –¥–ª—è staging API –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–π E2E-—Ç–µ—Å—Ç.
- –£–ª—É—á—à–∏—Ç—å CI: —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã E2E (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã/–≤–∏–¥–µ–æ), –¥–æ–±–∞–≤–∏—Ç—å retry=2 –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤, –ø–æ–º–µ—Ç–∏—Ç—å flaky-—Ç–µ—Å—Ç—ã.

## E2E –°—Ç–∞—Ç—É—Å –∏ –¥–µ—Ç–∞–ª–∏

### ‚úÖ –†–∞–±–æ—á–∏–µ E2E —Ç–µ—Å—Ç—ã (7 –∏–∑ 7) - 100% SUCCESS RATE! üèÜ:
1. **–§—Ä–æ–Ω—Ç–µ–Ω–¥: smoke-–Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —á–∞—Ç –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Ç—Ä–µ–¥–æ–≤
2. **–§—Ä–æ–Ω—Ç–µ–Ω–¥: smoke-–Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫
3. **–§—Ä–æ–Ω—Ç–µ–Ω–¥: —á–∞—Ç –∏ –∏—Å—Ç–æ—Ä–∏—è** - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–º –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å API –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
4. **–§—Ä–æ–Ω—Ç–µ–Ω–¥: —á–∞—Ç –∏ –∏—Å—Ç–æ—Ä–∏—è** - –∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
5. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ API –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ + –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
6. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –±–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ + –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏)
7. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ staging API (–ê–ö–¢–ò–í–ò–†–û–í–ê–ù! —Ç—Ä–µ–±—É–µ—Ç env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)

### üéØ E2E —Ç–µ—Å—Ç—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏—Å—å –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- **ChatPanel**: API –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
- **ImageGeneration**: API –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- **Validation**: –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤, –æ—à–∏–±–æ–∫ API, —Å–æ—Å—Ç–æ—è–Ω–∏–π UI
- **Staging**: —Ä–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ staging API –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
